{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/NodeJS/react/projects/15-cocktails/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/NodeJS/react/projects/15-cocktails/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Applications/NodeJS/react/projects/15-cocktails/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{useCallback}from\"react\";var url=\"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";var AppContext=React.createContext();var AppProvider=function AppProvider(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"a\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cocktails=_useState6[0],setCocktails=_useState6[1];var fetchDrinks=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,drinks,newCocktails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(\"\".concat(url).concat(searchTerm));case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;drinks=data.drinks;// console.log(\"data: \", data);\nif(drinks){newCocktails=drinks.map(function(item){var idDrink=item.idDrink,strDrink=item.strDrink,strDrinkThumb=item.strDrinkThumb,strAlcoholic=item.strAlcoholic,strGlass=item.strGlass;return{id:idDrink,name:strDrink,image:strDrinkThumb,info:strAlcoholic,glass:strGlass};});setCocktails(newCocktails);}else{setCocktails([]);}setLoading(false);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setLoading(false);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);})),[searchTerm]);useEffect(function(){fetchDrinks();},[searchTerm]);return/*#__PURE__*/React.createElement(AppContext.Provider,{value:{loading:loading,searchTerm:searchTerm,cocktails:cocktails,setSearchTerm:setSearchTerm}},children);};// make sure use\nexport var useGlobalContext=function useGlobalContext(){return useContext(AppContext);};export{AppContext,AppProvider};","map":{"version":3,"sources":["/Applications/NodeJS/react/projects/15-cocktails/setup/src/context.js"],"names":["React","useState","useContext","useEffect","useCallback","url","AppContext","createContext","AppProvider","children","loading","setLoading","searchTerm","setSearchTerm","cocktails","setCocktails","fetchDrinks","fetch","response","json","data","drinks","newCocktails","map","item","idDrink","strDrink","strDrinkThumb","strAlcoholic","strGlass","id","name","image","info","glass","console","log","useGlobalContext"],"mappings":"ogBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,WAAT,KAA4B,OAA5B,CAEA,GAAMC,CAAAA,GAAG,CAAG,2DAAZ,CACA,GAAMC,CAAAA,UAAU,CAAGN,KAAK,CAACO,aAAN,EAAnB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,eACPR,QAAQ,CAAC,IAAD,CADD,wCAC9BS,OAD8B,eACrBC,UADqB,8BAEDV,QAAQ,CAAC,GAAD,CAFP,yCAE9BW,UAF8B,eAElBC,aAFkB,8BAGHZ,QAAQ,CAAC,EAAD,CAHL,yCAG9Ba,SAH8B,eAGnBC,YAHmB,eAKrC,GAAMC,CAAAA,WAAW,CAAGZ,WAAW,sEAAC,yKAC/BO,UAAU,CAAC,IAAD,CAAV,CAD+B,sCAGPM,CAAAA,KAAK,WAAIZ,GAAJ,SAAUO,UAAV,EAHE,QAGxBM,QAHwB,qCAIXA,CAAAA,QAAQ,CAACC,IAAT,EAJW,QAIxBC,IAJwB,eAKtBC,MALsB,CAKXD,IALW,CAKtBC,MALsB,CAM9B;AACA,GAAIA,MAAJ,CAAY,CACLC,YADK,CACUD,MAAM,CAACE,GAAP,CAAW,SAACC,IAAD,CAAU,IAExCC,CAAAA,OAFwC,CAOrCD,IAPqC,CAExCC,OAFwC,CAGxCC,QAHwC,CAOrCF,IAPqC,CAGxCE,QAHwC,CAIxCC,aAJwC,CAOrCH,IAPqC,CAIxCG,aAJwC,CAKxCC,YALwC,CAOrCJ,IAPqC,CAKxCI,YALwC,CAMxCC,QANwC,CAOrCL,IAPqC,CAMxCK,QANwC,CAQzC,MAAO,CACNC,EAAE,CAAEL,OADE,CAENM,IAAI,CAAEL,QAFA,CAGNM,KAAK,CAAEL,aAHD,CAINM,IAAI,CAAEL,YAJA,CAKNM,KAAK,CAAEL,QALD,CAAP,CAOA,CAfoB,CADV,CAiBXd,YAAY,CAACO,YAAD,CAAZ,CACA,CAlBD,IAkBO,CACNP,YAAY,CAAC,EAAD,CAAZ,CACA,CACDJ,UAAU,CAAC,KAAD,CAAV,CA5B8B,iFA8B9BwB,OAAO,CAACC,GAAR,cACAzB,UAAU,CAAC,KAAD,CAAV,CA/B8B,qEAAD,GAiC5B,CAACC,UAAD,CAjC4B,CAA/B,CAkCAT,SAAS,CAAC,UAAM,CACfa,WAAW,GACX,CAFQ,CAEN,CAACJ,UAAD,CAFM,CAAT,CAIA,mBACC,oBAAC,UAAD,CAAY,QAAZ,EACC,KAAK,CAAE,CAAEF,OAAO,CAAPA,OAAF,CAAWE,UAAU,CAAVA,UAAX,CAAuBE,SAAS,CAATA,SAAvB,CAAkCD,aAAa,CAAbA,aAAlC,CADR,EAGEJ,QAHF,CADD,CAOA,CAlDD,CAmDA;AACA,MAAO,IAAM4B,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CACrC,MAAOnC,CAAAA,UAAU,CAACI,UAAD,CAAjB,CACA,CAFM,CAIP,OAASA,UAAT,CAAqBE,WAArB","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useCallback } from \"react\";\n\nconst url = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n\tconst [loading, setLoading] = useState(true);\n\tconst [searchTerm, setSearchTerm] = useState(\"a\");\n\tconst [cocktails, setCocktails] = useState([]);\n\n\tconst fetchDrinks = useCallback(async () => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst response = await fetch(`${url}${searchTerm}`);\n\t\t\tconst data = await response.json();\n\t\t\tconst { drinks } = data;\n\t\t\t// console.log(\"data: \", data);\n\t\t\tif (drinks) {\n\t\t\t\tconst newCocktails = drinks.map((item) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tidDrink,\n\t\t\t\t\t\tstrDrink,\n\t\t\t\t\t\tstrDrinkThumb,\n\t\t\t\t\t\tstrAlcoholic,\n\t\t\t\t\t\tstrGlass,\n\t\t\t\t\t} = item;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: idDrink,\n\t\t\t\t\t\tname: strDrink,\n\t\t\t\t\t\timage: strDrinkThumb,\n\t\t\t\t\t\tinfo: strAlcoholic,\n\t\t\t\t\t\tglass: strGlass,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsetCocktails(newCocktails);\n\t\t\t} else {\n\t\t\t\tsetCocktails([]);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tsetLoading(false);\n\t\t}\n\t}, [searchTerm]);\n\tuseEffect(() => {\n\t\tfetchDrinks();\n\t}, [searchTerm]);\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{ loading, searchTerm, cocktails, setSearchTerm }}\n\t\t>\n\t\t\t{children}\n\t\t</AppContext.Provider>\n\t);\n};\n// make sure use\nexport const useGlobalContext = () => {\n\treturn useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"]},"metadata":{},"sourceType":"module"}